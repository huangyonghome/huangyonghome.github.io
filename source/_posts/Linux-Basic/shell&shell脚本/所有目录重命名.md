---
title: 所有目录重命名
date: 2018-06-12 22:59:58
tags:  scripts
categories: [Linux-Basic,shell&shell脚本 ]
comments: true
copyright: true
---



## 所有目录重命名



### 需求

将下列目录名批量重命名..

如果目录名包含beta,则将beta改为testing.

例如:beta,beta1,beta2,等改成testing,testing1,testing2

如果目录名不包含beta.则就直接在现有目录名后面追加testing

### 脚本内容

```shell
#!/bin/bash
#description:修改app目录下的业务名称.如果目录名没有beta就直接重命名成testing.如果有beta就把beta改成testing

dir=/data/apps
files=$(ls $dir)

for file in $files;do
    if `echo $file | grep "beta" > /dev/null`;then #如果当前目录名包含beta字段,或者beta1,beta2......
       new_file=$(echo $file | sed -re 's#(.*)beta(\s*)+#\1testing\2#')  #将beta,beta1,beta2更改为testing,testing1,testing2
       mv $dir/$file $dir/$new_file #重命名目录名为testing

    else #如果目录名不包含beta,则直接在后面追加testing
       mv $dir/$file $dir/$file-testing
    fi
done
```

